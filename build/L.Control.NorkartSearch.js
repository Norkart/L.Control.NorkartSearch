!function(e){function t(r){if(s[r])return s[r].exports;var i=s[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";var r=window.L,i=s(1),n=s(2);s(3);var o=s(7);r.Control.NorkartSearch=r.Control.extend({options:{position:"topright",placeholder:"Søk",showMarker:!0,closeOnSelect:!0,autoFocus:"true",targets:["matrikkelenhet","gateadresse"]},initialize:function(e){e=e||{},r.setOptions(this,e),e.hitSelected?this.hitSelected=e.hitSelected.bind(this):this.hitSelected=this._defaulthitSelected.bind(this)},onAdd:function(e){var t="leaflet-control-search",s=r.DomUtil.create("div",t);this.map=e,this._renderSearch(s);var i=r.DomEvent.stopPropagation,n=r.DomEvent._fakeStop||i;return r.DomEvent.on(s,"contextmenu",i).on(s,"click",n).on(s,"mousedown",i).on(s,"touchstart",i).on(s,"dblclick",n).on(s,"mousewheel",i).on(s,"MozMousePixelScroll",i),this.container=s,s},clearSearchBox:function(){this._renderSearch(this.container),this.marker&&this.map.removeLayer(this.marker)},_renderSearch:function(e){var t=this.options;n.render(i.createElement(o,{key:Date.now(),NkAuth:t.NkAuth,apiKey:t.apiKey,targets:t.targets,autoFocus:t.autoFocus,placeholder:t.placeholder,closeOnSelect:t.closeOnSelect,hitSelected:this.hitSelected}),e)},_defaulthitSelected:function(e){var t=r.latLng(e.PayLoad.Posisjon.Y,e.PayLoad.Posisjon.X);this.map.fire("search:select",{position:t,element:e}),this.options.showMarker&&(this.marker&&this.map.removeLayer(this.marker),this.marker=r.marker(t).addTo(this.map),this.map.setView(t,16))}}),r.control.norkartSearch=function(e){return new r.Control.NorkartSearch(e)}},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t){},,,,function(e,t,s){"use strict";function r(e,t,s,r){s.getToken(function(i,n){var a={Authorization:"Bearer "+n,"X-WAAPI-Profile":s.config.profile};o(e,t,a,r)})}function i(e,t,s,r){var i={"X-WAAPI-Token":s};o(e,t,i,r)}var n=s(1),o=s(8),a=s(10),c=n.createClass({displayName:"HitElement",click:function(e){e.preventDefault(),this.props.hitSelected(this.props.hit.index)},render:function(){var e="list-group-item";return this.props.hit.hover&&!this.props.hit.selected&&(e+=" hover"),this.props.hit.selected&&(e+=" active"),n.createElement("a",{href:"#",className:e,onClick:this.click},this.props.hit.text)}}),h=n.createClass({displayName:"HitList",render:function(){if(!this.props.hits.length)return null;var e=this.props.hits.map(function(e,t){return{id:e.Id,text:e.Text,index:t,hover:t===this.props.hoverIndex,selected:t===this.props.selectedIndex}}.bind(this));return n.createElement("div",{className:"list-group result-list"},e.map(function(e){return n.createElement(c,{key:e.id,hit:e,hitSelected:this.props.hitSelected})}.bind(this)))}}),l=n.createClass({displayName:"SearchBox",getDefaultProps:function(){return{placeholder:"Søk",closeOnSelect:!0,targets:["matrikkelenhet","gateadresse"]}},getInitialState:function(){return{text:"",hits:[],hoverIndex:null,selectedIndex:null}},onKeyDown:function(e){if(13===e.which||9===e.which){var t=this.state.hoverIndex;this.hitSelected(t)}else 40===e.which?this.changeHoverIndex(1):38===e.which&&this.changeHoverIndex(-1)},hitSelected:function(e){this.setState({selectedIndex:e});var t=this.state.hits[e];this.props.hitSelected&&this.props.hitSelected(t);var s={text:t.Text};this.props.closeOnSelect&&(s.hits=[]),this.setState(s)},changeHoverIndex:function(e){var t=null!==this.state.hoverIndex?this.state.hoverIndex:-1,s=t+e;s>=this.state.hits.length?s=0:s<0&&(s=this.state.hits.length-1),this.setState({hoverIndex:s})},gotResults:function(e,t){this.setState({hits:t,hoverIndex:null,selectedIndex:null})},onChange:function(e){var t=e.target.value;if(this.setState({text:t}),this.props.apiKey)i(t,this.props.targets,this.props.apiKey,this.gotResults);else{if(!this.props.NkAuth)throw new Error("Ikke tilgang!");r(t,this.props.targets,this.props.NkAuth,this.gotResults)}},render:function(){return n.createElement("div",{className:"nk-search"},n.createElement("div",{className:"form-group has-feedback"},n.createElement("input",{onChange:this.onChange,onKeyDown:this.onKeyDown,type:"text",value:this.state.text,className:"form-control search",autoComplete:"off",autoFocus:this.props.autoFocus,placeholder:this.props.placeholder}),n.createElement("span",{className:"form-control-feedback"},n.createElement(a,null))),n.createElement(h,{hits:this.state.hits,selectedIndex:this.state.selectedIndex,hoverIndex:this.state.hoverIndex,hitSelected:this.hitSelected}))}});e.exports=l},function(e,t,s){"use strict";function r(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function i(e,t,s,i){console.log("targets"),console.log(t);var o="//www.webatlas.no/WAAPI-FritekstSok/suggest/kommunecustom/?Targets=",a=t.join(",");console.log(a);var c=o+a+"&Query="+e,h=r({Accept:"application/json; charset=utf-8"},s);n({url:c,crossOrigin:!0,type:"json",method:"get",contentType:"application/json",headers:h,error:function(e){i(e)},success:function(e){i(null,e.Options)}})}var n=s(9);e.exports=i},function(e,t){e.exports=reqwest},function(e,t,s){"use strict";var r=s(1),i=r.createClass({displayName:"SearchIcon",render:function(){return r.createElement("svg",{version:"1.1",width:24,height:24,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",{id:"Layer_1"},r.createElement("path",{style:{fill:"#51A026"},d:"M9,4c2.8,0,5,2.2,5,5s-2.2,5-5,5s-5-2.2-5-5S6.2,4,9,4 M9,2C5.1,2,2,5.1,2,9s3.1,7,7,7s7-3.1,7-7S12.9,2,9,2L9,2z"}),r.createElement("polygon",{style:{fill:"#000000"},points:"22,22 22,20 16,14 14,16 20,22"})))}});e.exports=i}]);
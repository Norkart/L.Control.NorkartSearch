!function(e){function t(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";var i=window.L,n=s(1),r=s(2);s(3);var o=s(7);i.Control.NorkartSearch=i.Control.extend({options:{position:"topright",placeholder:"Søk",showMarker:!0,closeOnSelect:!0},initialize:function(e){e=e||{},i.setOptions(this,e),e.hitSelected?this.hitSelected=e.hitSelected.bind(this):this.hitSelected=this._defaulthitSelected.bind(this)},onAdd:function(e){var t="leaflet-control-search",s=i.DomUtil.create("div",t);this.map=e,this._renderSearch(s);var n=i.DomEvent.stopPropagation,r=i.DomEvent._fakeStop||n;return i.DomEvent.on(s,"contextmenu",n).on(s,"click",r).on(s,"mousedown",n).on(s,"touchstart",n).on(s,"dblclick",r).on(s,"mousewheel",n).on(s,"MozMousePixelScroll",n),this.container=s,s},clearSearchBox:function(){this._renderSearch(this.container),this.marker&&this.map.removeLayer(this.marker)},_renderSearch:function(e){var t=this.options;r.render(n.createElement(o,{key:Date.now(),NkAuth:t.NkAuth,apiKey:t.apiKey,placeholder:t.placeholder,closeOnSelect:t.closeOnSelect,hitSelected:this.hitSelected}),e)},_defaulthitSelected:function(e){var t=i.latLng(e.PayLoad.Posisjon.Y,e.PayLoad.Posisjon.X);this.map.fire("search:select",{position:t,element:e}),this.options.showMarker&&(this.marker&&this.map.removeLayer(this.marker),this.marker=i.marker(t).addTo(this.map),this.map.setView(t,16))}}),i.control.norkartSearch=function(e){return new i.Control.NorkartSearch(e)}},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t){},,,,function(e,t,s){"use strict";function i(e,t,s){t.getToken(function(i,n){var r={Authorization:"Bearer "+n,"X-WAAPI-Profile":t.config.profile};o(e,r,s)})}function n(e,t,s){var i={"X-WAAPI-Token":t};o(e,i,s)}var r=s(1),o=s(8),a=s(10),h=r.createClass({displayName:"HitElement",click:function(e){e.preventDefault(),this.props.hitSelected(this.props.hit.index)},render:function(){var e="list-group-item";return this.props.hit.hover&&!this.props.hit.selected&&(e+=" hover"),this.props.hit.selected&&(e+=" active"),r.createElement("a",{href:"#",className:e,onClick:this.click},this.props.hit.text)}}),c=r.createClass({displayName:"HitList",render:function(){if(!this.props.hits.length)return null;var e=this.props.hits.map(function(e,t){return{id:e.Id,text:e.Text,index:t,hover:t===this.props.hoverIndex,selected:t===this.props.selectedIndex}}.bind(this));return r.createElement("div",{className:"list-group result-list"},e.map(function(e){return r.createElement(h,{key:e.id,hit:e,hitSelected:this.props.hitSelected})}.bind(this)))}}),l=r.createClass({displayName:"SearchBox",getDefaultProps:function(){return{placeholder:"Søk",closeOnSelect:!0}},getInitialState:function(){return{text:"",hits:[],hoverIndex:null,selectedIndex:null}},onKeyDown:function(e){if(13===e.which||9===e.which){var t=this.state.hoverIndex;this.hitSelected(t)}else 40===e.which?this.changeHoverIndex(1):38===e.which&&this.changeHoverIndex(-1)},hitSelected:function(e){this.setState({selectedIndex:e});var t=this.state.hits[e];this.props.hitSelected&&this.props.hitSelected(t);var s={text:t.Text};this.props.closeOnSelect&&(s.hits=[]),this.setState(s)},changeHoverIndex:function(e){var t=null!==this.state.hoverIndex?this.state.hoverIndex:-1,s=t+e;s>=this.state.hits.length?s=0:s<0&&(s=this.state.hits.length-1),this.setState({hoverIndex:s})},gotResults:function(e,t){this.setState({hits:t,hoverIndex:null,selectedIndex:null})},onChange:function(e){var t=e.target.value;if(this.setState({text:t}),this.props.apiKey)n(t,this.props.apiKey,this.gotResults);else{if(!this.props.NkAuth)throw new Error("Ikke tilgang!");i(t,this.props.NkAuth,this.gotResults)}},render:function(){return r.createElement("div",{className:"nk-search"},r.createElement("div",{className:"form-group has-feedback"},r.createElement("input",{onChange:this.onChange,onKeyDown:this.onKeyDown,type:"text",value:this.state.text,className:"form-control search",autoComplete:"off",placeholder:this.props.placeholder}),r.createElement("span",{className:"form-control-feedback"},r.createElement(a,null))),r.createElement(c,{hits:this.state.hits,selectedIndex:this.state.selectedIndex,hoverIndex:this.state.hoverIndex,hitSelected:this.hitSelected}))}});e.exports=l},function(e,t,s){"use strict";function i(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function n(e,t,s,n){var o="//www.webatlas.no/WAAPI-FritekstSok/suggest/kommunecustom/?Targets=gateadresse,matrikkelenhet&Query="+e,a=i({Accept:"application/json; charset=utf-8"},s);r({url:o,crossOrigin:!0,type:"json",method:"get",contentType:"application/json",headers:a,error:function(e){n(e)},success:function(e){n(null,e.Options)}})}var r=s(9);e.exports=n},function(e,t){e.exports=reqwest},function(e,t,s){"use strict";var i=s(1),n=i.createClass({displayName:"SearchIcon",render:function(){return i.createElement("svg",{version:"1.1",width:24,height:24,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},i.createElement("g",{id:"Layer_1"},i.createElement("path",{style:{fill:"#51A026"},d:"M9,4c2.8,0,5,2.2,5,5s-2.2,5-5,5s-5-2.2-5-5S6.2,4,9,4 M9,2C5.1,2,2,5.1,2,9s3.1,7,7,7s7-3.1,7-7S12.9,2,9,2L9,2z"}),i.createElement("polygon",{style:{fill:"#000000"},points:"22,22 22,20 16,14 14,16 20,22"})))}});e.exports=n}]);
!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";var r=s(1),n=s(2),o=s(3);s(4);var i=s(8);r.Control.NorkartSearch=r.Control.extend({options:{position:"topright",placeholder:"Søk",showMarker:!0,closeOnSelect:!0},onAdd:function(e){var t="leaflet-control-search",s=r.DomUtil.create("div",t),a=this.options;this.map=e,o.render(n.createElement(i,{NkAuth:a.NkAuth,apiKey:a.apiKey,placeholder:a.placeholder,closeOnSelect:a.closeOnSelect,hitSelected:this.hitSelected.bind(this)}),s);var l=r.DomEvent.stopPropagation,c=r.DomEvent._fakeStop||l;return r.DomEvent.on(s,"contextmenu",l).on(s,"click",c).on(s,"mousedown",l).on(s,"touchstart",l).on(s,"dblclick",c).on(s,"mousewheel",l).on(s,"MozMousePixelScroll",l),s},hitSelected:function(e){e.hasOwnProperty("PayLoad")&&(e.Posisjon=e.PayLoad.Posisjon),e.hasOwnProperty("Source")&&(e.Posisjon=e.Source.Posisjon);var t=r.latLng(e.Posisjon.Y,e.Posisjon.X);this.map.fire("search:select",{position:t,element:e}),this.options.showMarker&&(this.marker&&this.map.removeLayer(this.marker),this.marker=r.marker(t).addTo(this.map),this.map.setView(t,16))}}),r.control.norkartSearch=function(e){return new r.Control.NorkartSearch(e)}},function(e,t){e.exports=L},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t){},,,,function(e,t,s){"use strict";function r(e,t,s){t.getToken(function(r,n){var o={Authorization:"Bearer "+n,"X-WAAPI-Profile":t.config.profile};i(e,o,["//www.webatlas.no/WAAPI-FritekstSok/search/matrikkel/adresse?Query=","//www.webatlas.no/WAAPI-FritekstSok/suggest/matrikkel/adresse?Query="],s)})}function n(e,t,s){var r={"X-WAAPI-Token":t};i(e,r,["//www.webatlas.no/WAAPI-FritekstSok/search/matrikkel/adresse?Query=","//www.webatlas.no/WAAPI-FritekstSok/suggest/matrikkel/adresse?Query="],s)}var o=s(2),i=s(9),a=s(11),l=o.createClass({displayName:"HitElement",click:function(e){e.preventDefault(),this.props.hitSelected(this.props.hit.index)},render:function(){var e="list-group-item";return this.props.hit.hover&&!this.props.hit.selected&&(e+=" hover"),this.props.hit.selected&&(e+=" active"),o.createElement("a",{href:"#",className:e,onClick:this.click},this.props.hit.text)}}),c=o.createClass({displayName:"HitList",render:function(){if(!this.props.hits.length)return null;var e=this.props.hits.map(function(e,t){return{id:e.Id,text:e.Text,index:t,hover:t===this.props.hoverIndex,selected:t===this.props.selectedIndex}}.bind(this));return o.createElement("div",{className:"list-group result-list"},e.map(function(e){return o.createElement(l,{key:e.id,hit:e,hitSelected:this.props.hitSelected})}.bind(this)))}}),h=o.createClass({displayName:"SearchBox",getDefaultProps:function(){return{placeholder:"Søk",closeOnSelect:!0}},getInitialState:function(){return{text:"",hits:[],hoverIndex:null,selectedIndex:null}},onKeyDown:function(e){if(13===e.which||9===e.which){var t=this.state.hoverIndex;this.hitSelected(t)}else 40===e.which?this.changeHoverIndex(1):38===e.which&&this.changeHoverIndex(-1)},hitSelected:function(e){this.setState({selectedIndex:e});var t=this.state.hits[e];this.props.hitSelected&&this.props.hitSelected(t);var s={text:t.Text};this.props.closeOnSelect&&(s.hits=[]),this.setState(s)},changeHoverIndex:function(e){var t=null!==this.state.hoverIndex?this.state.hoverIndex:-1,s=t+e;s>=this.state.hits.length?s=0:s<0&&(s=this.state.hits.length-1),this.setState({hoverIndex:s})},gotResults:function(e,t){this.setState({hits:t,hoverIndex:null,selectedIndex:null})},onChange:function(e){var t=e.target.value;if(this.setState({text:t}),this.props.apiKey)n(t,this.props.apiKey,this.gotResults);else{if(!this.props.NkAuth)throw new Error("Ikke tilgang!");r(t,this.props.NkAuth,this.gotResults)}},render:function(){return o.createElement("div",{className:"nk-search"},o.createElement("div",{className:"form-group has-feedback"},o.createElement("input",{onChange:this.onChange,onKeyDown:this.onKeyDown,type:"text",value:this.state.text,className:"form-control search",autoComplete:"off",placeholder:this.props.placeholder}),o.createElement("span",{className:"form-control-feedback"},o.createElement(a,null))),o.createElement(c,{hits:this.state.hits,selectedIndex:this.state.selectedIndex,hoverIndex:this.state.hoverIndex,hitSelected:this.hitSelected}))}});e.exports=h},function(e,t,s){"use strict";function r(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function n(e,t,s,r){var i=s.pop();void 0!==i&&o(e,t,i,function(o,a){o&&r(o);var l=null;a.hasOwnProperty("Options")&&(l=a.Options),a.hasOwnProperty("SearchResults")&&(l=a.SearchResults),l.length>0?(console.log("RESULT!",l,i,s),console.log(r),r(null,l)):n(e,t,s,r)})}function o(e,t,s,n){var o=s+e,a=r({Accept:"application/json; charset=utf-8"},t);i({url:o,crossOrigin:!0,type:"json",method:"get",contentType:"application/json",headers:a,error:function(e){n(e)},success:function(e){n(null,e)}})}var i=s(10);e.exports=n},function(e,t){e.exports=reqwest},function(e,t,s){"use strict";var r=s(2),n=r.createClass({displayName:"SearchIcon",render:function(){return r.createElement("svg",{version:"1.1",width:24,height:24,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",{id:"Layer_1"},r.createElement("path",{style:{fill:"#51A026"},d:"M9,4c2.8,0,5,2.2,5,5s-2.2,5-5,5s-5-2.2-5-5S6.2,4,9,4 M9,2C5.1,2,2,5.1,2,9s3.1,7,7,7s7-3.1,7-7S12.9,2,9,2L9,2z"}),r.createElement("polygon",{style:{fill:"#000000"},points:"22,22 22,20 16,14 14,16 20,22"})))}});e.exports=n}]);